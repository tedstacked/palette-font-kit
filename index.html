<!-- index.html -->
<!doctype html>
<html lang="en" class="theme-light">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="color-scheme" content="light dark" />
  <title>Random Aesthetic Generator</title>

  <!-- UI fonts only (app shell). Generated preview fonts are lazy-loaded by JS. -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@500;600;700&family=Source+Sans+3:wght@400;500;600&display=swap" rel="stylesheet" />

  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <a class="skip-link" href="#main">Skip to content</a>

  <header>
    <div class="wrap topbar" role="banner">
      <div class="brand" aria-label="App header">
        <h1>Random Aesthetic Generator</h1>
        <p>Generate cohesive palettes + Google Fonts pairings. Save favorites. Export CSS/JSON.</p>
      </div>

      <div class="toggle" role="group" aria-label="Theme toggle">
        <label for="themeToggle">UI mode</label>
        <input id="themeToggle" type="checkbox" aria-label="Toggle dark mode" hidden />
        <button type="button" class="switch" id="themeSwitch" aria-label="Toggle dark mode" aria-pressed="false"></button>
      </div>
    </div>
  </header>

  <main id="main" tabindex="-1">
    <div class="wrap">
      <!-- Controls card -->
      <section class="card anim-in" id="controlsCard" aria-labelledby="controlsTitle">
        <h2 id="controlsTitle">Controls</h2>
        <p class="sub">Shuffle palette + fonts together. Save favorites and export to CSS variables or JSON.</p>

        <div class="controls">
          <div class="btnrow" role="group" aria-label="Primary actions">
            <button type="button" class="primary" id="btnShuffle">
              Shuffle <span class="kbd" aria-hidden="true">Space</span>
            </button>
            <button type="button" id="btnShuffleColors">
              Shuffle Color
            </button>
            <button type="button" id="btnShuffleFonts">
              Shuffle Font
            </button>
            <button type="button" id="btnSave">
              Save <span class="kbd" aria-hidden="true">S</span>
            </button>
            <button type="button" id="btnCopyCSS">
              Copy CSS <span class="kbd" aria-hidden="true">C</span>
            </button>
            <button type="button" id="btnExportJSON">
              Export JSON
            </button>
          </div>

          <div class="presetbar" role="group" aria-label="Curated defaults">
            <button type="button" class="chip" data-preset="Minimal" aria-pressed="true">Minimal</button>
            <button type="button" class="chip" data-preset="Playful" aria-pressed="false">Playful</button>
            <button type="button" class="chip" data-preset="Bold" aria-pressed="false">Bold</button>
          </div>
        </div>
      </section>

      <div class="grid" aria-label="Generated results and favorites">
        <div class="leftcol">
          <!-- Palette card -->
          <section class="card anim-in" id="paletteCard" aria-labelledby="paletteTitle">
            <h2 id="paletteTitle">Palette</h2>
            <p class="sub">Click a swatch to copy HEX. Contrast badges show AA normal text pass/fail vs white and black.</p>

            <div class="swatches" id="swatches" role="list" aria-label="Generated color swatches"></div>
          </section>

          <!-- Fonts + preview card -->
          <section class="card anim-in" id="fontsCard" aria-labelledby="fontsTitle">
            <h2 id="fontsTitle">Font pairing &amp; preview</h2>
            <p class="sub">Fonts are lazy-loaded from Google Fonts only when selected. Preview background stays neutral.</p>

            <div class="fontnames" aria-label="Selected font families">
              <div class="fontpill">
                <div class="label">Heading font</div>
                <div class="value" id="headingFontName">—</div>
              </div>
              <div class="fontpill">
                <div class="label">Body font</div>
                <div class="value" id="bodyFontName">—</div>
              </div>
            </div>

            <div class="preview" id="preview" aria-label="Live font preview"></div>
          </section>

          <!-- Export card -->
          <section class="card anim-in" id="exportCard" aria-labelledby="exportTitle">
            <h2 id="exportTitle">Export</h2>
            <p class="sub">Copy-ready CSS variables and JSON for the current combination.</p>

            <div class="export">
              <div>
                <div class="exportHead">
                  <strong class="exportLabel">CSS variables</strong>
                  <button type="button" id="btnCopyCSSInline" aria-label="Copy CSS variables">Copy</button>
                </div>
                <div class="codebox" aria-label="CSS variables block">
                  <pre id="cssOut"></pre>
                </div>
              </div>

              <div>
                <div class="exportHead">
                  <strong class="exportLabel">JSON</strong>
                  <div class="exportBtns">
                    <button type="button" id="btnCopyJSON" aria-label="Copy JSON">Copy JSON</button>
                    <button type="button" id="btnDownloadJSON" aria-label="Download JSON file">Download</button>
                  </div>
                </div>
                <div class="codebox" aria-label="JSON export block">
                  <pre id="jsonOut"></pre>
                </div>
              </div>
            </div>
          </section>
        </div>

        <!-- Favorites panel -->
        <aside class="card anim-in" id="favoritesCard" aria-labelledby="favoritesTitle">
          <h2 id="favoritesTitle">Favorites</h2>
          <p class="sub">Saved locally (this browser only). Re-apply or delete anytime.</p>

          <div class="favlist" id="favList" aria-live="polite" aria-label="Saved favorites list"></div>

          <p id="favEmpty" class="sub favEmpty" style="display:none;">
            No favorites yet. Press <span class="kbd">S</span> to save the current combo.
          </p>
        </aside>
      </div>
    </div>
  </main>

  <footer>
    <div class="wrap footerWrap">
      <div>Keyboard: <span class="kbd">Space</span> Shuffle, <span class="kbd">S</span> Save, <span class="kbd">C</span> Copy CSS</div>
      <div>Static demo • Google Fonts + WCAG 2.1 AA checks</div>
    </div>
  </footer>

  <div class="toast" id="toast" role="status" aria-live="polite" aria-atomic="true"></div>

  <script src="script.js" defer></script>
</body>
</html>
